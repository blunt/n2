(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a.p+"static/media/rotten.847fd7c8.svg"},31:function(e,t,a){e.exports=a.p+"static/media/imdb.c91b2edf.svg"},32:function(e,t,a){e.exports=a(64)},37:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),i=a(12),o=a(8),s=(a(37),a(17)),m=a(1),u=a(7),d=a.n(u),f=a(10),b=a(11),p=a.n(b),h="https://unogs-unogs-v1.p.rapidapi.com/aaapi.cgi",g="3adfd0f105mshd37f672cb2a6ef6p1cc404jsn3c93ad7906e0",y="unogs-unogs-v1.p.rapidapi.com",E={headers:{"X-RapidAPI-Host":y,"X-RapidAPI-Key":g},params:{countryid:"CAD"}},v=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h,{headers:{"X-RapidAPI-Host":y,"X-RapidAPI-Key":g},params:{q:"get:new7:"+t,p:"1",t:"ns",st:"adv"}});case 2:return a=e.sent,sessionStorage.setItem("newContent"+t,JSON.stringify(a.data.ITEMS)),n=a.data.ITEMS,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h,{headers:{"X-RapidAPI-Host":y,"X-RapidAPI-Key":g},params:{t:"lc",q:"available"}});case 2:return t=e.sent,sessionStorage.setItem("countries",JSON.stringify(t.data.ITEMS)),a=t.data.ITEMS,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(d.a.mark(function e(t,a,n){var r,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h,{headers:{"X-RapidAPI-Host":y,"X-RapidAPI-Key":g},params:{q:t+"-!1900,2018-!0,5-!0,10-!"+a+"-!Any-!Any-!Any-!gt100-!{downloadable}",t:"ns",cl:n,st:"adv",ob:"Relevance",p:"1",sa:"and"}});case 2:return r=e.sent,l=r.data.ITEMS,e.abrupt("return",l);case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://unogs-unogs-v1.p.rapidapi.com/api.cgi?t=genres",E);case 2:return t=e.sent,localStorage.setItem("genres",JSON.stringify(t.data.ITEMS)),a=t.data.ITEMS,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(h,{headers:{"X-RapidAPI-Host":y,"X-RapidAPI-Key":g},params:{t:"loadvideo",q:t}});case 2:return a=e.sent,n=a.data.RESULT,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=a(3),j=Object(O.a)(),S=function(){return r.a.createElement("div",{className:"border-b border-gray-800 py-4 text-sm loader"})},I=function(e){return"https://www.netflix.com/watch/"+e},T=function(e){return"https://www.youtube.com/results?search_query="+e+" official trailer"},C=function(e){var t=e.indexOf("<");return e=e.substring(0,-1!==t?t:e.length)},A=function(e){var t={transition:"all .1s ease-in"},a="mr-2 py-1 px-3 text-sm rounded inline-block text-center border cursor-pointer ";return"secondary"===e.type?a+="border-gray-900 hover:border-gray-600":a+="bg-gray-900 border-gray-900 hover:bg-gray-700 hover:border-gray-700","link"===e.linkType?r.a.createElement("div",{to:e.link,className:a,style:t,onClick:e.handleTitle,"data-id":e.dataId},e.label):r.a.createElement("a",{href:e.link,className:a,style:t,target:"_blank",rel:"noopener noreferrer"},e.label,e.children)},R=function(e){var t="/title/"+e.item.netflixid,a="flex pb-4 border-b";return e.index!==e.length?a+=" mb-4 border-gray-900":a+=" border-white",r.a.createElement("article",{key:e.item.netflixid,className:a},r.a.createElement("figure",{className:"w-1/5"},r.a.createElement("a",{className:"block img-wrapper rounded overflow-hidden",href:I(e.item.netflixid),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{"data-id":e.item.netflixid,className:"w-full h-auto cursor-pointer",src:e.item.image,alt:e.item.title}))),r.a.createElement("figcaption",{className:"w-4/5 ml-4 flex flex-col"},r.a.createElement("div",{onClick:e.handleTitle},r.a.createElement("h3",{"data-id":e.item.netflixid,className:"text-xl font-semibold mb-2 border-b border-transparent hover:border-white inline-block cursor-pointer",dangerouslySetInnerHTML:{__html:e.item.title}})),r.a.createElement("div",{className:"flex flex-grow"},r.a.createElement("div",{className:"flex flex-col pr-8"},r.a.createElement("p",{className:"mb-4 text-gray-500 leading-tight text-sm",dangerouslySetInnerHTML:{__html:C(e.item.synopsis)}}),r.a.createElement("div",{className:"mt-auto"},r.a.createElement(A,{link:T(e.item.title),label:"Watch trailer"}),r.a.createElement(A,{type:"secondary",linkType:"link",link:t,label:"Learn more",handleTitle:e.handleTitle,dataId:e.item.netflixid}))),r.a.createElement("div",{className:"text-right text-gray-500 leading-tight text-sm"},e.item.rating>0&&r.a.createElement("p",null,e.item.rating),e.item.runtime&&r.a.createElement("p",null,e.item.runtime),e.item.released&&r.a.createElement("p",null,e.item.released)))))},_=function(e){return r.a.createElement("section",{className:"mb-6"},r.a.createElement("header",{className:"sticky top-0 mb-4 border-b border-gray-800 bg-black z-10 text-xs py-4 flex"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("h2",null,e.title),e.children,e.page&&r.a.createElement(i.b,{className:"ml-auto border-b border-transparent hover:border-white",to:e.page},"View all"))),r.a.createElement("section",null,e.content.map(function(t,a){return r.a.createElement(R,{length:e.content.length,index:a+1,key:t.netflixid,item:t,handleTitle:e.handleTitle})})))},M=function(e){return r.a.createElement("div",{className:"search-field relative sticky bg-black z-10 top-0 border-b-2 border-white flex items-center"},r.a.createElement("input",{className:"w-full bg-black focus:outline-none text-sm py-4",type:"text",value:e.keyword,placeholder:"Search titles & actors",onChange:function(t){return e.keywordChange(t.target.value)},onKeyDown:e.handleKeyDown}))},K=function(e){return r.a.createElement(M,{keyword:e.keyword,keywordChange:e.setKeyword,handleKeyDown:e.handleKeyDown})},H=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)(!0),f=Object(m.a)(d,2),b=f[0],p=f[1],h=Object(n.useState)([]),g=Object(m.a)(h,2),y=g[0],E=g[1],v=Object(n.useState)([]),w=Object(m.a)(v,2),N=w[0],O=w[1],j=Object(n.useState)(""),S=Object(m.a)(j,2),I=S[0],T=S[1];return Object(n.useEffect)(function(){null===localStorage.getItem("genres")?k().then(function(e){try{c(e),p(!1)}catch(t){}}):(c(JSON.parse(localStorage.getItem("genres")||"[]")),p(!1)),null===localStorage.getItem("countries")?x().then(function(e){try{u(e),document.querySelector('#select_id [value="ca"]').selected=!0,p(!1)}catch(t){}}):(u(JSON.parse(localStorage.getItem("countries")||"[]")),p(!1))},[]),Object(n.useEffect)(function(){if(""!==I){var e=l.filter(function(e){return JSON.stringify(Object.keys(e)).toLowerCase().includes(I)});E(e)}else E([])},[I,l]),Object(n.useEffect)(function(){y.length>0?O(y):O(l)},[y,l]),r.a.createElement("header",{className:"flex flex-col p-6 md:sticky top-0 h-screen md:w-1/3 w-full"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text-sm"},r.a.createElement("div",{onClick:e.handleHome,className:"inline-block border-b border-transparent hover:border-white cursor-pointer"},"N\xb2")),r.a.createElement("h2",{className:"text-2xl leading-tight max-w-xs my-8"},"The fastest way to find something to watch on Netflix.")),r.a.createElement("div",{className:"mb-4"},!b&&r.a.createElement("select",{className:"bg-gray-900 py-1 px-2 appearance-none focus:outline-none text-sm text-gray-500 hover:text-white",onChange:e.handleCountryChange,defaultValue:"ca",id:"select_id"},s.map(function(e){var t=Object.values(e)[0],a=Object.values(e)[1],n=Object.values(e)[2];return r.a.createElement("option",{value:a,key:t,"data-id":t},n)}))),r.a.createElement("div",{className:"relative search-field flex items-center"},r.a.createElement("input",{className:"w-full bg-black focus:outline-none text-sm py-4",type:"text",value:I,placeholder:"Search genres",onChange:function(e){return T(e.target.value)}})),r.a.createElement("nav",{id:"genres",className:"relative flex-grow overflow-hidden border-b border-t border-gray-800"},r.a.createElement("div",{className:"absolute py-4 top-0 bottom-0 overflow-y-scroll hide-scrollbar"},!b&&N.map(function(t){var a=Object.keys(t)[0],n=Object.values(t)[0].join();return r.a.createElement("label",{key:a,className:"block text-sm text-gray-500 hover:text-white"},r.a.createElement("input",{className:"genre-checkbox",name:a,type:"checkbox",checked:e.isActive,onChange:e.handleInputChange,value:n}),r.a.createElement("span",{className:"label"},a))}))))},D=function(e){return r.a.createElement("div",{className:"w-1/3"},r.a.createElement("span",{className:"text-sm text-gray-500"},e.label),r.a.createElement("p",null,e.item))},J=function(e){return r.a.createElement("div",{className:"people-item flex text-sm border-b border-gray-900 py-4"},r.a.createElement("span",{className:"text-gray-500"},e.label),r.a.createElement("div",{className:"w-4/6 pl-6 ml-auto"},r.a.createElement("ul",{className:"flex flex-wrap"},e.children)))},P=a(30),X=a.n(P),q=a(31),L=a.n(q),W=function(e){var t,a,l=Object(n.useState)([]),c=Object(m.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(!0),u=Object(m.a)(s,2),d=u[0],f=u[1];return Object(n.useEffect)(function(){N(e.id).then(function(e){try{o(e),f(!1)}catch(t){}})},[e.id]),d?r.a.createElement(S,null):r.a.createElement("article",null,r.a.createElement("div",{className:"border-b border-gray-800 py-6 flex"},r.a.createElement("figure",{className:"w-2/6"},r.a.createElement("a",{className:"block img-wrapper title-page rounded overflow-hidden",href:I(i.nfinfo.netflixid),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{loading:"lazy",className:"w-full h-auto",src:i.nfinfo.image1,alt:i.nfinfo.title}))),r.a.createElement("section",{className:"w-4/6 pl-6 flex flex-col"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text-2xl mb-4"},r.a.createElement("a",{className:"inline-block border-b border-transparent hover:border-white",href:I(i.nfinfo.netflixid),target:"_blank",rel:"noopener noreferrer"},i.nfinfo.title)),r.a.createElement("section",{className:"flex border-t border-b border-gray-900 py-3 mb-4"},i.imdbinfo.rating&&i.imdbinfo.rating>0&&r.a.createElement(D,{label:"IMDb Rating",item:i.imdbinfo.rating}),i.imdbinfo.runtime&&r.a.createElement(D,{label:"Duration",item:i.imdbinfo.runtime}),i.nfinfo.released&&r.a.createElement(D,{label:"Year Released",item:i.nfinfo.released})),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:C(i.nfinfo.synopsis)}})),r.a.createElement("div",{className:"mt-auto flex flex-wrap items-center"},r.a.createElement(A,{link:I(i.nfinfo.netflixid),label:"Watch "+i.nfinfo.type}),r.a.createElement(A,{type:"secondary",link:T(i.nfinfo.title),label:"Watch trailer"}),r.a.createElement(A,{type:"secondary",link:(a=i.imdbinfo.imdbid,"https://imdb.com/title/"+a)},r.a.createElement("img",{src:L.a,className:"icon-button",alt:i.nfinfo.title+" on IMDb"})),r.a.createElement(A,{type:"secondary",link:(t=i.nfinfo.title,"https://www.rottentomatoes.com/search/?search="+t)},r.a.createElement("img",{src:X.a,className:"icon-button",alt:"Search for "+i.nfinfo.title+" on Rotten Tomatoes"}))))),r.a.createElement("section",{className:"border-b border-gray-800"},i.people.map(function(e){return void 0!==e.director&&e.director.length>0&&r.a.createElement(J,{key:e.director,label:"Director"},e.director.map(function(e){return r.a.createElement("li",{key:e,className:"w-1/2 pr-4"},e)}))}),i.people.map(function(e){return void 0!==e.creator&&e.creator.length>0&&r.a.createElement(J,{key:e.creator,label:"Creator(s)"},e.creator.map(function(e){return r.a.createElement("li",{key:e,className:"w-1/2 pr-4"},e)}))}),i.people.map(function(e){return void 0!==e.actor&&e.actor.length>0&&r.a.createElement(J,{key:e.actor,label:"Actor(s)"},e.actor.map(function(e){return r.a.createElement("li",{key:e,className:"w-1/2 pr-4"},e)}))})),r.a.createElement("section",{className:"py-6"},i.imdbinfo.plot&&r.a.createElement("p",{dangerouslySetInnerHTML:{__html:i.imdbinfo.plot.replace("amp;","")}})))},z=Object(o.e)(function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)("ca"),o=Object(m.a)(i,2),u=o[0],d=o[1],f=Object(n.useState)("33"),b=Object(m.a)(f,2),p=b[0],h=b[1],g=Object(n.useState)(!0),y=Object(m.a)(g,2),E=y[0],x=y[1],k=Object(n.useState)(!1),N=Object(m.a)(k,2),O=N[0],I=N[1],T=Object(n.useState)([]),C=Object(m.a)(T,2),A=C[0],R=C[1],M=Object(n.useState)([]),D=Object(m.a)(M,2),J=D[0],P=D[1],X=Object(n.useState)(""),q=Object(m.a)(X,2),L=q[0],z=q[1],B=Object(n.useState)(!1),V=Object(m.a)(B,2),U=V[0],Y=V[1],$=Object(n.useState)(0),F=Object(m.a)($,2),G=F[0],Q=F[1],Z=function(e){x(!0),null===sessionStorage.getItem("newContent"+e)?v(e).then(function(e){try{c(e),x(!1)}catch(t){x(!1)}}):(c(JSON.parse(sessionStorage.getItem("newContent"+e)||"[]")),x(!1))},ee=function(e,t,a){x(!0),w(e,t,a).then(function(e){try{c(e),x(!1)}catch(t){x(!1)}})},te=function(e){var t=e.target.getAttribute("data-id");Y(!0),Q(t),j.push("/n2/#/titles/"+t,{id:t})};window.onpopstate=function(){var e=j.location.pathname;if(e.includes("titles")){var t=e.replace("/n2/titles/","");Y(!0),Q(Number(t))}else Y(!1)};var ae=function(e){var t=e.target,a=t.getAttribute("data-id"),n=t.value,r=A.filter(function(e){return e!==a}),l=J.filter(function(e){return n?e[1]!==n:e[1]!==a}),c=document.querySelectorAll(".genre-checkbox[value="+JSON.stringify(a)+"]")[0];c&&(c.checked=!1),R(r),P(l)};return Object(n.useEffect)(function(){var e=window.location.hash;if(e.includes("titles")){var t=e.replace("#/titles/","");Y(!0),Q(Number(t))}},[]),Object(n.useEffect)(function(){A.length>0||""!==L?ee(L,A,p):Z(u)},[A,u,p]),r.a.createElement("div",{className:"page-container"},r.a.createElement(H,{handleInputChange:function(e){Y(!1);var t=e.target,a=t.value;!0===t.checked?(R([].concat(Object(s.a)(A),[a])),P([].concat(Object(s.a)(J),[[t.name,t.value]]))):ae(e);var n=document.querySelectorAll("#genres :checked").length;n>0?(I(!0),x(!0)):0===n&&(I(!1),x(!1),Z(u))},handleCountryChange:function(e){Y(!1);var t=e.target.value,a=e.target,n=a.options[a.selectedIndex].getAttribute("data-id");d(t),h(n)},handleHome:function(e){Y(!1),j.push("/n2")},defaultCountry:"33"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(K,{home:!0,keyword:L,handleKeyDown:function(e){"Enter"===e.key&&(Y(!1),x(!0),""===L?(I(!1),Z()):(I(!0),ee(L,A,p)))},setKeyword:z}),U?r.a.createElement(W,{id:G}):E?r.a.createElement("div",null,r.a.createElement(S,null)):O?r.a.createElement(_,{title:l.length+" results",content:l,handleTitle:te},J.map(function(e,t){return r.a.createElement("button",{key:e[1],"data-id":e[1],className:"ml-2 px-1 text-xs rounded inline-block text-center border cursor-pointer border-gray-900 hover:border-gray-600 focus:outline-none",onClick:ae},e[0]," x")})):r.a.createElement(_,{title:l.length+" new titles",content:l,handleTitle:te}))))}),B=function(){return r.a.createElement("div",null,r.a.createElement(i.a,{basename:"/"},r.a.createElement(o.a,{exact:!0,path:"/",component:z}),r.a.createElement(o.a,{exact:!0,path:"/titles/:id",component:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.7b51e75d.chunk.js.map